@startuml

title US12 - Minimal Backbone Network (System Sequence Diagram)

actor "Infrastructure Planner" as Planner
participant "Railway Optimization System" as System

Planner -> System : Railway network loaded
System --> Planner : Graph ready with N vertices and M edges

== Main Workflow ==

Planner -> System : Select "Minimal Backbone Network (US12)"
activate System

System -> System : Validate graph.numVertices() > 0
System --> Planner : Display statistics
System --> Planner : "Stations: N"
System --> Planner : "Lines: M"

Planner -> System : Confirm computation? (y/n)

alt User selects "y"
    System -> System : Compute Minimal Spanning Forest
    note right
    Algorithm: Prim's-like approach
    
    For each unvisited vertex:
      - Initialize new component
      - Iteratively select minimum-distance
        edge to unexplored vertex
      - Add to MSF
    
    Result: Connected components with
    minimum total edge weight
    
    Time Complexity: O(V² × E)
    end note
    
    System -> System : Create undirected backbone graph
    System -> System : Populate with vertices and edges
    
    System -> System : Export to Graphviz format
    System --> Planner : ✓ Minimal Backbone generated.
    System --> Planner : File: minimal_backbone.dot
    
    System --> Planner : Visualization command:
    System --> Planner : neato minimal_backbone.dot -Tsvg -o minimal_backbone.svg
    
else User selects "n" or other
    System --> Planner : Operation cancelled
end

deactivate System
@enduml
